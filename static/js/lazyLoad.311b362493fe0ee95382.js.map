{"version":3,"sources":["webpack:///./src/pages/lazyLoad/assets/zs.jpg","webpack:///./src/pages/fullPage/assets/2.jpg","webpack:///./src/pages/lazyLoad/assets/lj.png","webpack:///./src/pages/fullPage/assets/4.jpg","webpack:///./src/pages/fullPage/assets/5.jpg","webpack:///./src/pages/lazyLoad/assets/hj.jpg","webpack:///./src/pages/fullPage/assets/3.jpg","webpack:///src/pages/lazyLoad/App.vue","webpack:///./src/pages/lazyLoad/App.vue?7fec","webpack:///./src/pages/lazyLoad/App.vue","webpack:///./src/pages/lazyLoad/lazyLoad.js","webpack:///./src/components/lazyLoad.js","webpack:///./src/pages/lazyLoad/assets/yy.jpg","webpack:///./src/pages/lazyLoad/assets/sm.jpg","webpack:///./src/pages/fullPage/assets/1.jpg"],"names":["module","exports","__webpack_require__","p","App","name","data","imageSrc","src","components","mounted","methods","lazyLoad_App","render","_h","this","$createElement","_c","_self","attrs","id","_l","item","staticRenderFns","pages_lazyLoad_App","normalizeComponent","ssrContext","vue_esm","config","productionTip","use","Vue","arguments","length","undefined","Array","prototype","remove","index","indexOf","splice","init","listenList","imageCatcheList","isCanShow","ele","top","getBoundingClientRect","window","innerHight","innerHeight","image","Image","onload","push","addListener","binding","value","isAlredyLoad","addEventListener","i","directive","inserted","componentUpdated","updated","el","template"],"mappings":"yCAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,kDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,iDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,kDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,iDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,iDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,kDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,+HCQxCC,GACAC,KAAA,MACAC,KAFA,WAGA,OACAC,WACAC,IAAAN,EAAA,UACAM,IAAAN,EAAA,UACAM,IAAAN,EAAA,UACAM,IAAAN,EAAA,UACAM,IAAAN,EAAA,UACAM,IAAAN,EAAA,UACAM,IAAAN,EAAA,UACAM,IAAAN,EAAA,UACAM,IAAAN,EAAA,UACAM,IAAAN,EAAA,YAIAO,cAEAC,QApBA,aAuBAC,YC5BeC,GADEC,OAFjB,WAA0B,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBE,OAAOC,GAAA,QAAvFL,KAAmGM,GAAnGN,KAAmG,kBAAAO,GAAsC,OAAAL,EAAA,OAAiBE,OAAOX,IAAAc,EAAAd,WAE1Ke,oBCCjB,IAuBeC,EAvBUtB,EAAQ,OAcjCuB,CACErB,EACAQ,GATF,EAVA,SAAAc,GACExB,EAAQ,SAaV,KAEA,MAUgC,QCpBhCyB,EAAA,EAAIC,OAAOC,eAAgB,EAE3BF,EAAA,EAAIG,ICPW,SAACC,GAAqBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAC7BG,MAAMC,UAAUC,SAChBF,MAAMC,UAAUC,OAAS,SAASf,GAC9B,GAAIP,KAAKkB,OAAT,CACA,IAAIK,EAAQvB,KAAKwB,QAAQjB,GACzB,OAAIgB,GAAS,GACTvB,KAAKyB,OAAOF,EAAM,GACXvB,WAFX,KAMR,IAAI0B,EAES,uEAGTC,KACAC,KAUEC,EAAY,SAACtB,GACf,IAAIuB,EAAMvB,EAAKuB,IACXrC,EAAMc,EAAKd,IAEXsC,EAAMD,EAAIE,wBAAwBD,IAItC,GAFmBE,OAAOC,WAEvBH,EAAM,GAAKE,OAAOE,YAAY,CAC7B,IAAIC,EAAQ,IAAIC,MAOhB,OANAD,EAAM3C,IAAMA,EACZ2C,EAAME,OAAS,WACXR,EAAIrC,IAAMA,EACVmC,EAAgBW,KAAK9C,GACrBkC,EAAWL,OAAOf,KAEf,EAEP,OAAO,GAaTiC,EAAc,SAACV,EAAIW,GAErB,IAAIjD,EAAWiD,EAAQC,MAEvB,GA3CiB,SAAClD,GAClB,OAAGoC,EAAgBJ,QAAQhC,IAAa,EA0CrCmD,CAAanD,GAEZ,OADAsC,EAAIrC,IAAMD,GACH,EAEX,IAAIe,GACAuB,IAAIA,EACJrC,IAAID,GAGRsC,EAAIrC,IAAMiC,EAEPG,EAAUtB,KAIboB,EAAWY,KAAKhC,GA3BhB0B,OAAOW,iBAAiB,SAAS,WAE7B,IADA,IAAI1B,EAASS,EAAWT,OAChB2B,EAAI,EAAEA,EAAE3B,EAAO2B,IACnBhB,EAAUF,EAAWkB,QA8BjC7B,EAAI8B,UAAU,YACVC,SAASP,EACTQ,iBAAiBR,EACjBS,QAAQT,MD7EhB,IAAI5B,EAAA,GACFsC,GAAI,OAEJxD,YAAcL,IAAAoB,GACd0C,SAAU,mCEdZlE,EAAAC,QAAiBC,EAAAC,EAAuB,uECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,kDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/lazyLoad.311b362493fe0ee95382.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/zs.dce495c.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/lazyLoad/assets/zs.jpg\n// module id = 7FOs\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/2.3629eac.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/fullPage/assets/2.jpg\n// module id = Efed\n// module chunks = 1 2","module.exports = __webpack_public_path__ + \"static/img/lj.c083531.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/lazyLoad/assets/lj.png\n// module id = HBvQ\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/4.881b71e.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/fullPage/assets/4.jpg\n// module id = MWq4\n// module chunks = 1 2","module.exports = __webpack_public_path__ + \"static/img/5.38ccfe9.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/fullPage/assets/5.jpg\n// module id = Qb2G\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/hj.6457dba.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/lazyLoad/assets/hj.jpg\n// module id = RniR\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/3.0346c8b.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/fullPage/assets/3.jpg\n// module id = bOQw\n// module chunks = 1 2","<template>\n    <div id=\"app\">\n        <!-- v-lazyload=\"item.src\"-->\n        <img v-for=\"item in imageSrc\" :src=\"item.src\"/>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: 'App',\n        data () {\n            return {\n                imageSrc: [\n                    {src: require('./assets/hj.jpg')},\n                    {src: require('./assets/lj.png')},\n                    {src: require('./assets/sm.jpg')},\n                    {src: require('../fullPage/assets/1.jpg')},\n                    {src: require('../fullPage/assets/2.jpg')},\n                    {src: require('../fullPage/assets/3.jpg')},\n                    {src: require('../fullPage/assets/4.jpg')},\n                    {src: require('../fullPage/assets/5.jpg')},\n                    {src: require('./assets/yy.jpg')},\n                    {src: require('./assets/zs.jpg')}\n                ]\n            }\n        },\n        components: {\n        },\n        mounted () {\n            // this.getList();\n        },\n        methods: {\n        }\n    }\n</script>\n\n<style>\n    @import \"../../../static/reset.css\";\n    body, html, #app {\n        width: 100%;\n        height: 100%;\n        margin: 0;\n        padding: 0;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/lazyLoad/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},_vm._l((_vm.imageSrc),function(item){return _c('img',{attrs:{\"src\":item.src}})}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-624692f5\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/lazyLoad/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-624692f5\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-624692f5\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/lazyLoad/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n// import router from './router'\n\nVue.config.productionTip = false\nimport LazyLoad from '@/components/lazyLoad'\nVue.use(LazyLoad);\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  // router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lazyLoad/lazyLoad.js","//Vue 图片懒加载\r\nexport default (Vue , options = {})=>{\r\n    if(!Array.prototype.remove){\r\n        Array.prototype.remove = function(item){\r\n            if(!this.length) return\r\n            var index = this.indexOf(item);\r\n            if( index > -1){\r\n                this.splice(index,1);\r\n                return this\r\n            }\r\n        }\r\n    }\r\n    var init = {\r\n        lazyLoad: false,\r\n        default: 'https://gw.alicdn.com/tps/i1/TB147JCLFXXXXc1XVXXxGsw1VXX-112-168.png'\r\n    }\r\n\r\n    var listenList = [];\r\n    var imageCatcheList = [];\r\n\r\n    const isAlredyLoad = (imageSrc) => {\r\n        if(imageCatcheList.indexOf(imageSrc) > -1){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n    //检测图片是否可以加载，如果可以则进行加载\r\n    const isCanShow = (item) =>{\r\n        var ele = item.ele;\r\n        var src = item.src;\r\n        //图片距离页面顶部的距离\r\n        var top = ele.getBoundingClientRect().top;\r\n        //页面可视区域的高度\r\n        var windowHeight = window.innerHight;\r\n        //top + 10 已经进入了可视区域10像素\r\n        if(top + 10 < window.innerHeight){\r\n            var image = new Image();\r\n            image.src = src;\r\n            image.onload = function(){\r\n                ele.src = src;\r\n                imageCatcheList.push(src);\r\n                listenList.remove(item);\r\n            }\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    };\r\n\r\n    const onListenScroll = () =>{\r\n        window.addEventListener('scroll',function(){\r\n            var length = listenList.length;\r\n            for(let i = 0;i<length;i++ ){\r\n                isCanShow(listenList[i]);\r\n            }\r\n        })\r\n    }\r\n    //Vue 指令最终的方法\r\n    const addListener = (ele,binding) =>{\r\n        //绑定的图片地址\r\n        var imageSrc = binding.value;\r\n        //如果已经加载过，则无需重新加载，直接将src赋值\r\n        if(isAlredyLoad(imageSrc)){\r\n            ele.src = imageSrc;\r\n            return false;\r\n        }\r\n        var item = {\r\n            ele:ele,\r\n            src:imageSrc\r\n        }\r\n        //图片显示默认的图片\r\n        ele.src = init.default;\r\n        //再看看是否可以显示此图片\r\n        if(isCanShow(item)){\r\n            return\r\n        }\r\n        //否则将图片地址和元素均放入监听的lisenList里\r\n        listenList.push(item);\r\n\r\n        //然后开始监听页面scroll事件\r\n        onListenScroll();\r\n    }\r\n\r\n    Vue.directive('lazyload',{\r\n        inserted:addListener,\r\n        componentUpdated:addListener,\r\n        updated:addListener\r\n    })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/lazyLoad.js","module.exports = __webpack_public_path__ + \"static/img/yy.5c243cc.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/lazyLoad/assets/yy.jpg\n// module id = qe6/\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/sm.8833376.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/lazyLoad/assets/sm.jpg\n// module id = yV6i\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/1.fc31293.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/fullPage/assets/1.jpg\n// module id = zB0g\n// module chunks = 1 2"],"sourceRoot":""}